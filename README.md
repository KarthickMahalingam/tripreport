# Trip Report Calculator
Trip processor to parse input trip file and generates report containing total miles and speed of the driver

## Setup
1) Used ruby 2.3.1
2) install the gem ``` bundle install ```
3) Run Rspec test cases using ``` rspec spec ```

## My Approach:
1) Used hash to store trip_duration, total_miles and speed of each driver with driver_name as key
2) Total miles are calculated after parsing the file and stored in hash so that the entire hash values can be sorted based on the total miles and report can be generated by just iterating the hash
3) Used textfile to feed as input for parsing and input file is passed using command line

Extracted all the class and each class performs what it is intended to do.

```
report_driver.rb => Main ruby script that validates the presence of command line arguement and then invokes the report generation script 

file_reader.rb => Responsible for parsing the input text file. It valdidates whether the valid file name is specified, 
and the file has some contents to parse. Then it invokes the trip processor by passing each line from input text file.

process_trip.rb => Responsible for storing the parsed line on to hash. It also validates whether the average speed is 
in range(>5mph and <100 mph)

trip_registry.rb => Responsible to maintaining the hash values

argument_error.rb => To print the error messages but also to resuce this error as the parser shouldn't fail if one 
line is errored.

report_error.rb => Throwing this error will exit the script execution.

```

```
Example input:

Driver Dan
Driver Alex
Driver Bob
Trip Dan 07:15 07:45 17.3
Trip Dan 06:12 06:32 21.8
Trip Alex 12:01 13:16 42.0
```

```
Expected output:

Alex: 42 miles @ 34 mph
Dan: 39 miles @ 47 mph
Bob: 0 miles
```
I used hash because it is efficient to do a quick search of the driver and retrieve their information and update it.

## Assumptions made: 
Discard any trips that average a speed of less than 5 mph or greater than 100 mph. => This lines is little confusing. There are 2 cases can be assumed.
case 1: Calculate a running speed for each trip of the driver and then add the speed of the current trip speed, see if the average speed is > 5mph or < 100 mph. Eleminate the current trip line if adding the current trip speed with the total speed of the driver falls out of the range. 

Case 2: Calculae speed of each trip and discard the trip if the speed is not within the range.
I assumed and followed the case 2 as the first case assumption has lot of flaws with the calculation.



